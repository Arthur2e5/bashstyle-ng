<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>BashStyle-NG 7.11 Doc / Chapter 8</title>
</head>
<body>
<h2 align="center"><font color="#00A8FF">Chapter 8: BS-NG Functions</font></h2>
<table border=0 align=center>
	<tr>
		<td><a href="chapter07.html">Chapter 7 &lt;&lt;</a></td>
		<td><a href="index.html">Index</a></td>
		<td><a href="chapter09.html">&gt;&gt; Chapter 9</a></td>
	</tr>
</table>
<hr><br>

<h3><font color="#FBA330">1 Admin functions</font></h3>
&nbsp;A set of more or less administrative functions

<h4><font color="#33C0F4">1.1 torswitch</font></h4>
&nbsp;Torswitch is a simple function for switching on or off<br>
&nbsp;the Tor Union-Router globally, when using Privoxy<br>
&nbsp;&nbsp;torswitch --on #turn on tor<br>
&nbsp;&nbsp;torswitch --off #turn of tor

<h4><font color="#33C0F4">1.2 repoadd</font></h4>
&nbsp;RepoAdd is a script for adding debian-packages to an already<br>
&nbsp;set-up apt-repo which uses reprepro to be organized<br>
&nbsp;The paths it uses are set by environment-variables<br>
&nbsp;&nbsp;REPO_HOME the root-directory of the apt-repo<br>
&nbsp;&nbsp;REPO_DIST the dist you wan to add your packaes to<br>
&nbsp;signing is done automatically

<h4><font color="#33C0F4">1.3 wipe</font></h4>
&nbsp;Wipe overwrites the given device with random numbers<br>
&nbsp;Use this on an empty partition which you want to crypt-setup later<br>
&nbsp;DON'T USE THIS ON PARTITIONS WHICH CONTAIN FILES (or are in use)!

<h4><font color="#33C0F4">1.4 remount</font></h4>
&nbsp;Simply remount a device with given options

<h4><font color="#33C0F4">1.5 xchown</font></h4>
&nbsp;XChown changes the owner of files recursively after asking for root-password

<h4><font color="#33C0F4">1.6 psgrep</font></h4>
&nbsp;Small script for grepping `ps' output but with nicer output than pgrep

<h4><font color="#33C0F4">1.7 pskill</font></h4>
&nbsp;Takes two arguements, 1st the process to psgrep for, 2nd any<br>
&nbsp;additional arguements to pass to `kill'. Will display matches<br>
&nbsp;before doing anything, not passing a process-id will simply leave

<h3><font color="#FBA330">2 Conversion functions</font></h3>
&nbsp;Various functions for conversion

<h4><font color="#33C0F4">2.1 dos2unix</font></h4>
&nbsp;d2u: for converting dos-lineendings to unix-lineendings<br>
&nbsp;u2d: for converting unix-lineendings to dos-lineendings

<h4><font color="#33C0F4">2.2 binary conversion</font></h4>
&nbsp;bin2oct: convert binary to octal number<br>
&nbsp;bin2dec: convert binary to decimal number<br>
&nbsp;bin2hex: convert binary to hexadecimal number<br>
&nbsp;bin2all: overview of all three above

<h4><font color="#33C0F4">2.3 octal conversion</font></h4>
&nbsp;oct2bin: convert octal to binary number<br>
&nbsp;oct2dec: convert octal to decimal number<br>
&nbsp;oct2hex: convert octal to hexadecimal number<br>
&nbsp;oct2all: overview of all three above

<h4><font color="#33C0F4">2.4 decimal conversion</font></h4>
&nbsp;dec2oct: convert decimal to octal number<br>
&nbsp;dec2bin: convert decimal to binary number<br>
&nbsp;dec2hex: convert decimal to hexadecimal number<br>
&nbsp;dec2all: overview of all three above

<h4><font color="#33C0F4">2.5 hexadecimal conversion</font></h4>
&nbsp;hex2oct: convert hexadecimal to octal number<br>
&nbsp;hex2dec: convert hexadecimal to decimal number<br>
&nbsp;hex2bin: convert hexadecimal to binary number<br>
&nbsp;hex2all: overview of all three above

<h4><font color="#33C0F4">2.6 algebra functions</font></h4>
&nbsp;round: round a number (use `,' as delimiter), 2nd arguement<br>
&nbsp;is the number of decimal places to keep<br>
&nbsp;radical: calculate the square-root of a number<br>
&nbsp;power: calculate the nth power (2nd arguement) of a number (1st arguement)

<h3><font color="#FBA330">3 Dirinfo functions</font></h3>
&nbsp;Dirinfo is some kind of cataloging directories, I've though I must have<br>
&nbsp;it's currently a working prototype neither technically nor functionally finished

<h4><font color="#33C0F4">3.1 Dirinfo-Spec (Draft 1 Revision 2)</font></h4>
&nbsp;Example of a .dirinfo file:<br><br>

&nbsp;Owner="Name Surname" # quotes are important!<br>
&nbsp;Created=YYYY-MM-DD # this format is recommended<br>
&nbsp;Type=type # supported types: book, document, download, game, home, mediaplayer, music, picture, share, video*<br>
&nbsp;Tags=(tag1 tag2 tag3) # this format! anything is allowed<br>
&nbsp;Notes="put your notes here" # quotes are important!<br><br>

&nbsp;file-name is always .dirinfo in the desired directory<br><br>
&nbsp;* if you want to have a different type, create a .dirascii<br>

&nbsp;file for it. check $BSNG_RC_DIR/ascii/ for examples

<h4><font color="#33C0F4">3.2 LSCD </font></h4>
&nbsp;lscd is an enhanced version of the built-in cd. It supports<br>
&nbsp;dirinfo, saving the last directory visited (so that one ends<br>
&nbsp;up in the same directory again, when starting a new shell),<br>
&nbsp;aswell as auto-displaying the content of the directory<br><br>

&nbsp;Example output of lscd with a .dirinfo file (Type=home):<br>
<img src="./img/dirinfo-example.png">

<h4><font color="#33C0F4">3.3 dirinfo_get_creation_date </font></h4>
&nbsp;... Normally this function would get the creation-date of a file ...<br>
&nbsp;hah! linux-filesystems don't store it, therefore we fool ourselves<br>
&nbsp;and get the time of the last modification instead

<h4><font color="#33C0F4">3.4 dirinfo_set_creation_date </font></h4>
&nbsp;... inserts the date gotten from _get_creation_date into the .dirinfo file

<h4><font color="#33C0F4">3.5 dirinfo_get_dirinfo </font></h4>
&nbsp;Internal function for getting values off a .dirinfo file (lscd)

<h4><font color="#33C0F4">3.6 dirinfo_display_info </font></h4>
&nbsp;If the info gotten from _get_dirinfo does not contain a Type field,<br>
&nbsp;this function is to display the infos (lscd)

<h4><font color="#33C0F4">3.7 dirinfo_display_ascii </font></h4>
&nbsp;On the other hand, if there's a Type field, display the corresponding<br>
&nbsp;ascii-art (as shown above) and the infos. If there's no BS-NG shipped<br>
&nbsp;ascii-art that matches, check for .dirascii file to display, if that<br>
&nbsp;also fails, call dirinfo_display_info instead (lscd)

<h4><font color="#33C0F4">3.8 dirinfo_index_db </font></h4>
&nbsp;Search $HOME for all .dirinfo files and create an index<br>
&nbsp;use dirinfo_index --update instead (described later)

<h4><font color="#33C0F4">3.8.1 dirinfo_index_tags </font></h4>
&nbsp;Create a tag-index for all  .dirinfo files listed in the index<br>
&nbsp;user dirinfo_index --rebuild instead (described later)

<h4><font color="#33C0F4">3.8.2 dirinfo_index_types </font></h4>
&nbsp;Create a type-index for all .dirinfo files listed in the index<br>
&nbsp;user dirinfo_index --rebuild instead (described later)

<h4><font color="#33C0F4">3.8.3 dirinfo_index_dates </font></h4>
&nbsp;Create a date-index for all .dirinfo files listed in the index<br>
&nbsp;user dirinfo_index --rebuild instead (described later)

<h4><font color="#33C0F4">3.9 dirinfo_index </font></h4>
&nbsp;Function for updating, rebuilding and searching the index<br>
&nbsp;dirinfo_index --update (call functions 3.8 - 3.8.3)<br>
&nbsp;dirinfo_index --rebuild (call functions 3.8.1 - 3.8.3)<br>
&nbsp;dirinfo_index --list (list all indexed directories)<br>
&nbsp;dirinfo_index --search SEARCH_TYPE (search through the index,<br>
&nbsp;SEARCH_TYPE is one of --tag, --type or --date)

<h4><font color="#33C0F4">3.10 dirinfo_create </font></h4>
&nbsp;Ugly query to create a .dirinfo file without the need to remember the syntax

<h3><font color="#FBA330">4 Info functions</font></h3>

<h4><font color="#33C0F4">4.1 count_files</font></h4>
&nbsp;Function for counting files in the current directory, see --help

<h4><font color="#33C0F4">4.2 count_processes</font></h4>
&nbsp;Function for counting processes

<h4><font color="#33C0F4">4.3 show_battery_load</font></h4>
&nbsp;Function for displaying the battery load, via --acpi or --apm

<h4><font color="#33C0F4">4.4 show_cpu_load</font></h4>
&nbsp;Function for displaying the CPU-Load

<h4><font color="#33C0F4">4.5 show_ip</font></h4>
&nbsp;Function for displaying the ip-address of a given interface, see --help

<h4><font color="#33C0F4">4.6 show_mem</font></h4>
&nbsp;Function for displaying the current free/used ram in mb/percent, see --help

<h4><font color="#33C0F4">4.7 show_size</font></h4>
&nbps;Function for displaying the size of all files in the current directory

<h4><font color="#33C0F4">4.8 show_space</font></h4>
&nbsp;Function for displaying the free space of a given device, see --help

<h4><font color="#33C0F4">4.9 show_system_load</font></h4>
&nbsp;Function for displaying the system-load, see --help

<h4><font color="#33C0F4">4.10 show_tty</font></h4>
&nbsp;Function for displaying the current TTY (in a stylish manner)

<h4><font color="#33C0F4">4.11 show_uptime</font></h4>
&nbsp;Function for displaying the machine's uptime

<h4><font color="#33C0F4">4.12 system_infos</font></h4>
&nbsp;Function for getting various system informations, see --help

<h3><font color="#FBA330">5 Media functions</font></h3>

<h4><font color="#33C0F4">5.1 geniso</font></h4>
&nbsp;Function for creating an ISO9660 image from a cd/dvd-drive<br>
&nbsp;uses DD_OPTS and CD_WRITER variables

<h4><font color="#33C0F4">5.2 writeiso</font></h4>
&nbsp;Simple function for writing an ISO9660 image to a disc<br>
&nbsp;uses cdrecord and CD_WRITER variable

<h4><font color="#33C0F4">5.3 youtube2ogg</font></h4>
&nbsp;Extracts the audio of .flv files to an OGG/Vorbis file (uses ffmpeg)

<h4><font color="#33C0F4">5.4 conv2avi</font></h4>
&nbsp;Simple function for converting a mencoder-supported video file to<br>
&nbsp;AVI (XVid/Lame), uses mencoder-mt if available

<h3><font color="#FBA330">6 Misc. functions</font></h3>

<h4><font color="#33C0F4">6.1 top10</font></h4>
&nbsp;Function for displaying your ten most-used commands

<h4><font color="#33C0F4">6.2 crypt</font></h4>
&nbsp;Function for "en/decrypting" text-files using ROT13 method

<h4><font color="#33C0F4">6.3 get_kernel</font></h4>
&nbsp;Function for grabbing kernel-sources, supports various options<br>
&nbsp;-s VERSION for stable, -t VERSION for testing, -sg VERSION for<br>
&nbsp;stable GIT, -tg VERSION for testing GIT, -z VERSION REVISION<br>
&nbsp;for getting Zen kernel-patches

<h4><font color="#33C0F4">6.4 stop_watch</font></h4>
&nbsp;Simple stopwatch for bash (Ctrl-C to stop)

<h4><font color="#33C0F4">6.5 bashtips</font></h4>
&nbsp;Displays some useful tips about Bash

<h4><font color="#33C0F4">6.6 ls variants</font></h4>
&nbsp;Some variants of the ls-command

<h4><font color="#33C0F4">6.6.1 ll</font></h4>
&nbsp;Display ls-output as list, directories first

<h4><font color="#33C0F4">6.6.2 la</font></h4>
&nbsp;Normal ls, but hidden files included

<h4><font color="#33C0F4">6.6.3 l1</font></h4>
&nbsp;Normal ls, but one file per line (usefull for scripts)

<h4><font color="#33C0F4">6.6.4 lo</font></h4>
&nbsp;Display a list of files and their owner

<h4><font color="#33C0F4">6.6.5 lg</font></h4>
&nbsp;Display a list of files and their group

<h4><font color="#33C0F4">6.6.6 lm</font></h4>
&nbsp;Display the permissions of given files (human-readable and octal)

<h3><font color="#FBA330">7 Random functions</font></h3>

<h4><font color="#33C0F4">7.1 random</font></h4>
&nbsp;Function for generating random numbers, use -l LENGTH<br>
&nbsp;to set the length of the number, -r RANGE to set the<br>
&nbsp;range of the number (so it will be between 0 and RANGE)

<h4><font color="#33C0F4">7.2 randompw</font></h4>
&nbsp;Function similar to random, but outputting strings<br>
&nbsp;which may be used for passwords, eg randompw 16<br>
&nbsp;generates a 16 chars long password containing letters<br>
&nbsp;and numbers randompw 16 ! (note the !) additionally<br>
&nbsp;add special charachters to the output

<h4><font color="#33C0F4">7.3 randomfile</font></h4>
&nbsp;Randomly select a file and output, alternatively if you<br>
&nbsp;pass an application as arguement the file will be opened<br>
&nbsp;with it. randomfile stores a history, for more see --help

<h3><font color="#FBA330">8 Utility functions</font></h3>

<h4><font color="#33C0F4">8.1 bookmark</font></h4>
&nbsp;Create a bookmark for the current directory, eg bookmark example<br>
&nbsp;will add a go-example command which will then go back to that directory

<h4><font color="#33C0F4">8.2 unmark</font></h4>
&nbsp;Remove a bookmark, eg unmark example will remove go-example

<h4><font color="#33C0F4">8.3 up</font></h4>
&nbsp;Easier way of going up several directories, eg instead of<br>
&nbsp;cd ../../../../../ you do up 5

<h4><font color="#33C0F4">8.4 deadlink</font></h4>
&nbsp;Search current directory for dead links

<h4><font color="#33C0F4">8.5 empty</font></h4>
&nbsp;Search current directory for empty files

<h4><font color="#33C0F4">8.6 exchange</font></h4>
&nbsp;Exchange the value of two variables, eg exchange $X $Y
&nbsp;before: X=2 Y=4, afterwards X=4 Y=2

<h4><font color="#33C0F4">8.7 man2pdf</font></h4>
&nbsp;Create a PDF from a manual page

<h4><font color="#33C0F4">8.8 trunc_pwd</font></h4>
&nbsp;Used by the styles, to provide nicer pwd-output than \w and \W

<h4><font color="#33C0F4">8.9 xcp</font></h4>
&nbsp;Wrapper for cp that uses the last arguement as the name of<br>
&nbsp;the destination directory and creates it if missing

<h4><font color="#33C0F4">8.10 xmv</font></h4>
&nbsp;Same as xcp, but for mv instead of cp

<h4><font color="#33C0F4">8.11 xdel</font></h4>
&nbsp;Deletes all files recursively matching the pattern without asking!<br>
&nbsp;This only works on Bash 4.0+, eg xdel \~ .orig .diff<br>
&nbsp;(special-chars, like ! or ~ need to be escaped)

<h4><font color="#33C0F4">8.12 xunalias</font></h4>
&nbsp;Wrapper for unalis, which doesn't err if an alias doesn't exist

<h3><font color="#FBA330">9 Versioning functions</font></h3>

<h4><font color="#33C0F4">9.1 git_export</font></h4>
&nbsp;GIT version of svn export (export tree ready-to-use for release)

<h4><font color="#33C0F4">9.2 git_bzip</font></h4>
&nbsp;Create .tar.bz2 archive from the tree, ready-to-use for release

<h4><font color="#33C0F4">9.3 git_xz</font></h4>
&nbsp;Same as git_bzip but using XZ for compression

<h4><font color="#33C0F4">9.4 get_gnome</font></h4>
&nbps;Function for grabbing git.gnome.org repos<br>
&nbps;uses GIT_GNOME_USER variable if you have an account<br>
&nbsp;examples for maintainers: get_gnome -m nautilus<br>
&nbsp;get_gnome -mb nautilus 2-30 (checkout branch 2-30)<br>
&nbsp;examples for users: get_gnome nautilus<br>
&nbsp;get_gnome -b nautilus 2-30 (checkout branch 2-30)

<h4><font color="#33C0F4">9.5 get_xfce</font></h4>
&nbsp;Same as get_gnome but for git.xfce.org, uses GIT_XFCE_USER

<h4><font color="#33C0F4">9.6 git_branch</font></h4>
&nbsp;Display the current branch

<h4><font color="#33C0F4">9.7 git_revision</font></h4>
&nbsp;Displays the current revision as 6-digit-number

<h4><font color="#33C0F4">9.8 git_action</font></h4>
&nbsp;Display the currently running action (eg merge)

<h4><font color="#33C0F4">9.9 get_kde</font></h4>
&nbsp;Same as get_gnome but for svn.kde.org (may not work for all)<br>
&nbsp;uses SVN_USER_KDE variable

<h4><font color="#33C0F4">9.10 get_e</font></h4>
&nbsp;Same as get_gnome but for svn.enlightenment.org -b and -mb<br>
&nbsp;options are missing, though uses SVN_USER_ENLIGHTENMENT

<h3><font color="#FBA330">10 Internal functions/variables</font></h3>

<h4><font color="#33C0F4">10.1 BSNG_PREFIX</font></h4>
&nbsp;Environment-variable containing the installation-prefix of BS-NG

<h4><font color="#33C0F4">10.2 BSNG_RC_DIR</font></h4>
&nbsp;Environment-variable containing the path to the functions directory

<h4><font color="#33C0F4">10.3 BSNG_LOCKFILE</font></h4>
&nbsp;Environment-variable containing the path to the loCKfile

<h4><font color="#33C0F4">10.4 BSNG_VERSION</font></h4>
&nbsp;Environment-variable containing the version of BS-NG

<h4><font color="#33C0F4">10.5 BSNG_LOGFILE</font></h4>
&nbsp;Environment-variable containing the path to the loGfile

<h4><font color="#33C0F4">10.6 BSNG_DOCS</font></h4>
&nbsp;Environment-variable containing the path to the documentation

<h4><font color="#33C0F4">10.7 dbg_msg</font></h4>
&nbsp;Displays the debug messages on startup and stores them

<h4><font color="#33C0F4">10.8 dbg_view</font></h4>
&nbsp;Displays the debug-log

<h4><font color="#33C0F4">10.9 dbg_verbosity</font></h4>
&nbsp;Function for enabling/disabling the verbose debugging at startup

<h4><font color="#33C0F4">10.10 check_opt</font></h4>
&nbsp;Check optional dependencies for scripts, on run-time

<h4><font color="#33C0F4">10.11 BSNG_GCONF_READ</font></h4>
&nbsp;Environment-variable used by get_key/set_key with this<br>
&nbsp;set you can pass eg: alias/one to them rather than<br>
&nbsp;/apps/bashstyle/alias/one (used by nx-rc for better readability)

<h4><font color="#33C0F4">10.12 get_key</font></h4>
&nbsp;Get the value of a GConf-Key (listens to BSNG_GCONF_READ)

<h4><font color="#33C0F4">10.13 set_key</font></h4>
&nbsp;Set the value of a GConf-Key (listens to BSNG_GCONF_READ)

<h4><font color="#33C0F4">10.14 reset_key</font></h4>
&nbsp;Reset the value of a GConf-Key (listens to BSNG_GCONF_READ)

<h4><font color="#33C0F4">10.15 reset_config</font></h4>
&nbsp;Reset the BS-NG settings to defaults

<h4><font color="#33C0F4">10.16 search_key</font></h4>
&nbsp;Search for a GConf-Key

</body>
</html>
