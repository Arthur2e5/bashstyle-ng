#!/bin/bash
#########################################################
# 							#
# This is BashStyle-NG  				#
#							#
# Licensed under GNU GENERAL PUBLIC LICENSE v3    	#
#							#
# Copyright 2007 - 2015 Christopher Bratusek		#
#							#
#########################################################

source $BSNG_RC_DIR/internal/misc

case $1 in

	* )
		check_opt acpi show_battery_load
		if [[ $? != "1" ]]; then
			load=$(acpi -b | sed -e "s/.* \([1-9][0-9]*\)%.*/\1/")
			out="$(acpi -b)"
			state="$(echo "${out}" | awk '{print $3}')"
			case ${state} in
				charging,)
					statesign="^"
				;;

				discharging,)
					statesign="v"
				;;

				charged,)
					statesign="Â°"
				;;
			esac
			battery="${statesign}${load}"
			echo $battery
		fi
	;;
esac
