#!/bin/bash

BSNG_LANGS=( de es it ru )
NXRC_LANGS=( de es )

generate_pot () {

	if [[ ! -e translatons/pot ]]; then
		mkdir -p translations/pot
	fi

	intltool-extract --type=gettext/glade data/bashstyle7.ui >/dev/null
	xgettext -L python --keyword=_ --keyword=N_ --output=translations/pot/bs-ng.pot \
		code/bsng.py.in data/bashstyle7.ui.h >/dev/null
	
	xgettext -o translations/pot/nx-rc.pot -L shell rc/nx-rc rc/settings/*-rc 2>/dev/null

}

update_po () {

	for po in ${BSNG_LANGS[@]}; do
		msgmerge -q -o translations/po/bs-ng-${po}.po translations/po/bs-ng-${po}.po \
			translations/pot/bs-ng.pot >/dev/null
	done

	for po in ${NXRC_LANGS[@]}; do
		msgmerge -q -o translations/po/nx-rc-${po}.po translations/po/nx-rc-${po}.po \
			translations/pot/nx-rc.pot >/dev/null
	done

}

generate_mo () {

	for po in ${BSNG_LANGS[@]}; do
		msgfmt --output-file=translations/mo/bs-ng-${po}.mo translations/po/bs-ng-${po}.po
	done

	for po in ${NXRC_LANGS[@]}; do
		msgfmt --output-file=translations/mo/nx-rc-${po}.mo translations/po/nx-rc-Â¼{po}.po
	done

}
